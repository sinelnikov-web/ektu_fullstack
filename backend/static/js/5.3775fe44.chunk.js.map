{"version":3,"sources":["assets/images/windows_startup.svg","components/ToolBar.tsx","hooks/use-on-screen.ts","components/LazyImage/LazyImage.tsx","components/LazyImage/LazyImage.module.css"],"names":["_g","_g2","_g3","_g4","_g5","_g6","_g7","_g8","_g9","_g10","_g11","_g12","_g13","_g14","_g15","_g16","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgWindowsStartup","_ref","svgRef","title","titleId","props","id","xmlns","xmlnsXlink","x","y","viewBox","style","enableBackground","xmlSpace","fill","ref","points","ForwardRef","ToolbarDateTime","loadable","ToolbarAdditionalIcon","ToolbarWeather","ToolbarLanguage","ToolbarSearch","ToolbarSocials","ToolbarMainIcon","ToolBar","React","memo","openedAppList","setFiles","files","onFileMaximize","setOpenedAppList","prev","map","file","isMinimized","isFocusedOnWindow","ToolBarStyled","className","appId","onClick","isActive","app","cn","LazyImage","src","baseURL","icon","alt","styled","div","useOnScreen","rootMargin","useState","isIntersecting","setIntersecting","useEffect","refObj","current","observer","IntersectionObserver","entry","observe","unobserve","onLoad","width","height","isLoaded","setIsLoaded","imageRef","useRef","containerRef","isVisible","styles","container","containerLoaded","image","imageLoaded","module","exports"],"mappings":"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","file":"static/js/5.3775fe44.chunk.js","sourcesContent":["var _g, _g2, _g3, _g4, _g5, _g6, _g7, _g8, _g9, _g10, _g11, _g12, _g13, _g14, _g15, _g16;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgWindowsStartup(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    x: \"0px\",\n    y: \"0px\",\n    viewBox: \"0 0 497.886 497.886\",\n    style: {\n      enableBackground: \"new 0 0 497.886 497.886\"\n    },\n    xmlSpace: \"preserve\",\n    fill: \"white\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _g || (_g = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"227.959,39.869 227.959,242.386 496.549,242.386 496.549,0  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"1.336,244.746 211.172,244.746 211.172,41.818 1.336,72.798  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"227.959,458.017 496.549,497.886 496.549,261.535 227.959,261.535  \"\n  }), /*#__PURE__*/React.createElement(\"polygon\", {\n    points: \"1.336,425.086 211.172,456.066 211.172,261.531 1.336,261.531  \"\n  }))))), _g2 || (_g2 = /*#__PURE__*/React.createElement(\"g\", null)), _g3 || (_g3 = /*#__PURE__*/React.createElement(\"g\", null)), _g4 || (_g4 = /*#__PURE__*/React.createElement(\"g\", null)), _g5 || (_g5 = /*#__PURE__*/React.createElement(\"g\", null)), _g6 || (_g6 = /*#__PURE__*/React.createElement(\"g\", null)), _g7 || (_g7 = /*#__PURE__*/React.createElement(\"g\", null)), _g8 || (_g8 = /*#__PURE__*/React.createElement(\"g\", null)), _g9 || (_g9 = /*#__PURE__*/React.createElement(\"g\", null)), _g10 || (_g10 = /*#__PURE__*/React.createElement(\"g\", null)), _g11 || (_g11 = /*#__PURE__*/React.createElement(\"g\", null)), _g12 || (_g12 = /*#__PURE__*/React.createElement(\"g\", null)), _g13 || (_g13 = /*#__PURE__*/React.createElement(\"g\", null)), _g14 || (_g14 = /*#__PURE__*/React.createElement(\"g\", null)), _g15 || (_g15 = /*#__PURE__*/React.createElement(\"g\", null)), _g16 || (_g16 = /*#__PURE__*/React.createElement(\"g\", null)));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgWindowsStartup);\nexport default __webpack_public_path__ + \"static/media/windows_startup.1376be8c.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\nimport styled from \"styled-components\";\nimport {ReactComponent as StartUpIcon} from \"../assets/images/windows_startup.svg\"\nimport {FileType} from \"./Desktop\";\nimport LazyImage from \"./LazyImage/LazyImage\";\nimport {baseURL} from \"../api/base\";\nimport loadable from '@loadable/component'\n\nconst ToolbarDateTime = loadable(() => import(\"./ToolbarDateTime\"))\nconst ToolbarAdditionalIcon = loadable(() => import(\"./ToolbarAdditionalIcon\"))\nconst ToolbarWeather = loadable(() => import(\"./ToolbarWeather\"))\nconst ToolbarLanguage = loadable(() => import(\"./ToolbarLanguage\"))\nconst ToolbarSearch = loadable(() => import(\"./ToolbarSearch\"))\nconst ToolbarSocials = loadable(() => import(\"./ToolbarSocials\"))\nconst ToolbarMainIcon = loadable(() => import(\"./ToolbarMainIcon\"))\n\ninterface ToolBarProps {\n    openedAppList: Array<FileType>\n    setOpenedAppList: (openedAppList: Array<FileType>) => void\n    setFiles: (cllbck: (files: Array<FileType>) => Array<FileType>) => void\n    files: Array<FileType>\n}\n\nconst ToolBar = React.memo<ToolBarProps>(({openedAppList, setFiles, files, setOpenedAppList}) => {\n\n    const onFileMaximize = (id: number) => {\n        setFiles(prev => {\n            return prev.map(file => {\n                if (file.id === id) {\n                    return {...file, isMinimized: !file.isMinimized, isFocusedOnWindow: true}\n                } else if (file.isFocusedOnWindow) {\n                    return {...file, isFocusedOnWindow: false}\n                } else {\n                    return file\n                }\n            })\n        })\n    }\n    return (\n        <ToolBarStyled className={'toolbar'}>\n            <div className=\"toolbar__left-side\">\n                <ToolbarMainIcon appId={-1} onClick={onFileMaximize} isActive={false}>\n                    <StartUpIcon className={'startup-icon'}/>\n                </ToolbarMainIcon>\n                <ToolbarMainIcon appId={-2} onClick={onFileMaximize} isActive={false}>\n                    <ToolbarSearch setFiles={setFiles} files={files}/>\n                </ToolbarMainIcon>\n                {openedAppList.map(app => {\n                    return (\n                        <ToolbarMainIcon cn={'opened-app'} appId={app.id} onClick={onFileMaximize} isActive={app.isFocusedOnWindow}\n                                         key={app.id}>\n                            <LazyImage src={baseURL + app.icon} alt=\"\" cn={'toolbar-image'}/>\n                        </ToolbarMainIcon>\n                    )\n                })}\n            </div>\n            <div className=\"toolbar__right-side\">\n                <ToolbarAdditionalIcon>\n                    <ToolbarWeather/>\n                </ToolbarAdditionalIcon>\n                <ToolbarAdditionalIcon>\n                    <ToolbarSocials/>\n                </ToolbarAdditionalIcon>\n                <ToolbarAdditionalIcon>\n                    <ToolbarLanguage/>\n                </ToolbarAdditionalIcon>\n                <ToolbarAdditionalIcon>\n                    <ToolbarDateTime/>\n                </ToolbarAdditionalIcon>\n            </div>\n        </ToolBarStyled>\n    );\n});\n\nconst ToolBarStyled = styled.div`\n  width: 100%;\n  background: var(--toolbar-bg-color);\n  height: 5rem;\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: space-between;\n  z-index: 1335;\n  .toolbar-image {\n    width: 3rem;\n    height: 3rem;\n  }\n  .toolbar__left-side {\n    display: flex;\n  }\n\n  .toolbar__right-side {\n    display: flex;\n  }\n\n  .toolbar__arrow, .toolbar__volume {\n    width: 2.5rem;\n    padding: 0 5px;\n  }\n  .startup-icon {\n    width: 2rem;\n    height: 2rem;\n    @media (max-width: 400px) {\n      width: 1.5rem;\n      height: 1.5rem;\n    }\n  }\n  @media (max-width: 767px) {\n    .opened-app {\n      display: none;\n    }\n  }\n`\n\nexport default ToolBar;","import {MutableRefObject, RefObject, useEffect, useState} from \"react\";\n\n\nfunction useOnScreen(ref: RefObject<HTMLDivElement>, rootMargin = \"0px\") {\n    // State and setter for storing whether element is visible\n    const [isIntersecting, setIntersecting] = useState(false);\n    useEffect(() => {\n        const refObj = ref.current\n        const observer = new IntersectionObserver(\n            ([entry]) => {\n                // Update our state when observer callback fires\n                setIntersecting(entry.isIntersecting);\n            },\n            {\n                rootMargin,\n            }\n        );\n        if (refObj) {\n            observer.observe(refObj);\n        }\n        return () => {\n            if (refObj) {\n                observer.unobserve(refObj);\n            }\n        };\n    }, []); // Empty array ensures that effect is only run on mount and unmount\n    return isIntersecting;\n}\n\nexport default useOnScreen","import React, {MutableRefObject, useRef, useState} from 'react';\nimport styles from './LazyImage.module.css'\nimport useOnScreen from \"../../hooks/use-on-screen\";\n\ninterface LazyImageProps {\n    src: string\n    alt: string\n    onLoad?: () => void\n    width?: string\n    height?: string,\n    cn?: string\n}\n\nconst LazyImage = React.memo<LazyImageProps>(({src, alt='',\n                                                  onLoad=() => {}, width='100%',\n                                                  height='100%', cn=''}) => {\n\n    const [isLoaded, setIsLoaded] = useState(false)\n\n    const imageRef = useRef<HTMLImageElement>(null)\n    const containerRef = useRef<HTMLDivElement>(null)\n    const isVisible = useOnScreen(containerRef, '100px')\n\n    return (\n        <div ref={containerRef} className={styles.container + (isLoaded ? ` ${styles.containerLoaded}` : '') + (cn ? ` ${cn}` : '')}>\n            {(isVisible || isLoaded) && <img\n                ref={imageRef}\n                onLoad={() => isVisible ? setIsLoaded(true) : null}\n                className={styles.image + (isLoaded ? ` ${styles.imageLoaded}` : '')}\n                src={src}\n                alt={alt}\n            />}\n        </div>\n    );\n});\n\nexport default LazyImage;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"LazyImage_container__3iKkt\",\"load\":\"LazyImage_load__JVkYh\",\"containerLoaded\":\"LazyImage_containerLoaded__K-PMA\",\"image\":\"LazyImage_image__3pZJp\",\"imageLoaded\":\"LazyImage_imageLoaded__XbkTp\"};"],"sourceRoot":""}